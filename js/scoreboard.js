$(function(){var b,f;$("#addPlayer").click(function(){var a=$("#playerName").val(),a=$('<span class="label label-success playerLabel">'+a+"</span>");a.click(function(){$(this).remove()});$("#playerLabels").append(a)});$("#savePlayers").click(function(){var a=$("#scoreboard > thead > tr"),e=$("#scoreboard > tbody > tr"),b=$("#enterTricksModal > .modal-body"),g=$("#scoreModal > .modal-body");$(".playerLabel").map(function(){return $(this).text()}).each(function(h,c){var d=$("<th>"+c+"</th><th>T</th>");
a.append(d);e.each(function(){$(this).append("<td></td><td></td>")});d=$('<div class="input-prepend"><span class="add-on">'+c+'</span><input size="5" maxlength="1" type="text" placeholder="Tricks"></div>');b.append(d);d=$('<div class="btn-group scoreButtons"><button type="button" class="btn disabled">'+c+'</button><button type="button" class="btn btn-success" data-toggle="button">Win</button></div>');g.append(d)})});$("#saveTricks").click(function(){var a=$("#scoreboard > tbody > tr"),e=$("#enterTricksModal").find("input");
b=a.filter(function(){var a=$(this).find("td")[1];return""==$(a).text()?!0:!1}).first();var f=b.find("td").slice(1).filter(":odd");e.each(function(a,h){var c=$(h).val(),c=$('<span class="badge">'+c+"</span>");$(f[a]).append(c);$(h).val("")})});$("#saveScores").click(function(){var a=$("#scoreModal > .modal-body > .scoreButtons"),e=b.find("td").slice(1).filter(":even"),j=b.find("td").slice(1).filter(":odd"),g=f?!1:!0;a.each(function(a,c){var d=$(c).find('button:contains("Win")'),b=d.hasClass("active"),
i=parseInt($(j[a]).text()),b=b?10+i:0;g?$(e[a]).text(b):(i=f.find("td").slice(1).filter(":even")[a],$(e[a]).text(b+parseInt($(i).text())));d.removeClass("active")});f=b})});
